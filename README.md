# C言語 → Rust  変換ルール

### 代入,初期化

C言語
```
int i = 0;
```
Rust
```
let i:i32;
```
- 代入はletを使って記述．mutの有無を考えなくていいように（シャドウイング）
  - 同じ名前の変数を後から導入した場合、実際にその名前で使用できる変数は最後に導入した変数になる
- Rustは初期化不要

<br>

i32型はCopyトレイトを実装しているため、```let a = b;```と記述しても所有権の移動は起こらず値がコピーして渡される。
Copyトレイト実装には条件があり、下記三つすべての条件を満たすとき実装可能である。
  - 条件１：その型（構造体や列挙型）のすべてのフィールドの型がCopyトレイトを実装している。
  - 条件２：その型自身とすべてのフィールドの型がデストラクタ（Dropトレイト）を実装していない。たとえばBox<T>型、Vec<T>型、String型はデストラクタを持つため、フィールドにそれらの型をもつときはCopyトレイトは実装不可能である。
  - 条件３：その型自身がCloneトレイトを実装している。
        
Copyトレイトが実装されているか否か確かめて代入文を記述する必要がある？

<br>

### 配列

C言語
```
float num[100];
```
Rust
```
let mut num:[f64; 100] = [0.0; 100];    // f64型num配列100個
```

<br>

### 関数

C言語
```
返り値の型 関数名(引数){
  関数の中身
}
```

Rust
```
fn 関数名(引数) -> 返り値{
  関数の本体
}
```

<br>

